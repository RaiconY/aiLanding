import React, { useState } from 'react';
import { ChevronDown, ChevronUp } from 'lucide-react';
import SectionTitle from './SectionTitle';

interface FAQItemProps {
  question: string;
  answer: string;
  isOpen: boolean;
  onClick: () => void;
}

const FAQItem: React.FC<FAQItemProps> = ({ question, answer, isOpen, onClick }) => {
  return (
    <div className="border-b border-gray-200 py-4">
      <button 
        className="flex justify-between items-center w-full text-left font-medium text-lg text-gray-900 py-2"
        onClick={onClick}
      >
        {question}
        {isOpen ? (
          <ChevronUp className="flex-shrink-0 ml-2 h-5 w-5" style={{ color: '#800080' }} />
        ) : (
          <ChevronDown className="flex-shrink-0 ml-2 h-5 w-5" style={{ color: '#800080' }} />
        )}
      </button>
      <div 
        className={`overflow-hidden transition-all duration-300 ${isOpen ? 'max-h-96 opacity-100' : 'max-h-0 opacity-0'}`}
      >
        <p className="py-4 text-gray-700 leading-relaxed">{answer}</p>
      </div>
    </div>
  );
};

const FAQ: React.FC = () => {
  const faqs = [
  {
    question: "Нужен ли платный аккаунт ChatGPT?",
    answer: "Около 70% гайда можно применять без подписки. Но разница между бесплатной и платной версией ChatGPT — как между Ладой и Порше: обе едут, но впечатления разные. В гайде я чётко отмечаю, какие техники требуют подписки, а какие доступны всем."
  },
  {
    question: "Сколько времени займет освоение материала?",
    answer: "Каждая глава читается за 15 минут, плюс 30-45 минут на практику с ChatGPT. При режиме «глава в день» вы освоите весь гайд за неделю и сразу начнёте экономить время на рутинных задачах."
  },
  {
    question: "Подойдет ли гайд, если я совсем не технарь?",
    answer: "Абсолютно! Гайд написан максимально простым языком, без технического жаргона. Все объяснения даются через практические примеры и понятные аналогии. Даже самая сложная третья глава про устройство нейросетей адаптирована для нетехнических специалистов."
  },
  {
    question: "В каком формате будет гайд?",
    answer: "Вы получите доступ к адаптивному веб-сайту с удобной навигацией по главам. Никаких громоздких PDF или ботов в Телеграме — просто красиво оформленные, интерактивные веб-страницы, которые одинаково хорошо работают на компьютере и смартфоне."
  },
  {
    question: "Будут ли обновления гайда при появлении новых функций ChatGPT?",
    answer: "Да! Пока гайд в продаже, я регулярно обновляю его под новые функции. Только за три недели написания мне пришлось переписать 3 главы из-за новых возможностей ChatGPT. Покупая сейчас, вы получаете все будущие обновления бесплатно."
  },
  {
    question: "Можно ли использовать методики из гайда для работы с другими нейросетями?",
    answer: "Однозначно да. 80% принципов построения запросов универсальны и работают с любыми языковыми моделями. Освоив ChatGPT по этому гайду, вы легко перенесёте навыки на Claude, Gemini или любую другую нейросеть."
  },
  {
    question: "Я из России / Беларуси и не могу пользоваться и оплачивать ChatGPT",
    answer: "Для оплаты есть удобные сервисы-посредники, а настройка VPN занимает буквально 5 минут. В гайде есть отдельный раздел по этой теме. Если возникнут сложности, пишите мне в Телеграм @Ilya_Plv — помогу решить."
  },
  {
    question: "Есть ли в гайде готовые сценарии для конкретных профессий?",
    answer: "В гайде я фокусируюсь на универсальных принципах, которые работают в любой сфере. Но в разделе с 50+ промптами вы найдёте готовые шаблоны для маркетологов, копирайтеров, дизайнеров, разработчиков, менеджеров и других профессий. Плюс вы научитесь адаптировать любой шаблон под свои задачи."
  },
  {
    question: "А вдруг гайд окажется бесполезным?",
    answer: "На создание гайда я потратил более 60 часов — это примерно 8-9 часов на главу. Уверен, что на русском рынке вы не найдёте более подробного и структурированного материала по ChatGPT. Если после прочтения первых двух глав вы не найдёте для себя минимум 3 полезных применения — я верну деньги без вопросов."
  },
  {
    question: "Написан ли гайд с помощью ИИ?",
    answer: "Да, и я этим горжусь! Многих идей просто не существовало бы без моей совместной работы с нейросетями. Но это не «ChatGPT, напиши мне гайд». Это 60+ часов работы, где я использовал 4 разных LLM — ChatGPT, Claude, Gemini и NotebookLM. Считать ли работу менее ценной из-за использования ИИ? Это уже ваш выбор. Я же уверен, что будущее за теми, кто научился сотрудничать с нейросетями, а не конкурировать с ними."
  }
];

  const [openIndex, setOpenIndex] = useState<number | null>(0);

  const toggleFAQ = (index: number) => {
    setOpenIndex(openIndex === index ? null : index);
  };

  return (
    <section className="py-20 px-4 sm:px-6 lg:px-8">
      <div className="container mx-auto max-w-4xl">
        <SectionTitle title="Часто задаваемые вопросы" />
        
        <div className="bg-white rounded-2xl p-8 shadow-lg">
          {faqs.map((faq, index) => (
            <FAQItem 
              key={index}
              question={faq.question}
              answer={faq.answer}
              isOpen={openIndex === index}
              onClick={() => toggleFAQ(index)}
            />
          ))}
        </div>
      </div>
    </section>
  );
};

export default FAQ;